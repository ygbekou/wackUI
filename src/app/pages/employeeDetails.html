<form name="form" (ngSubmit)="f.form.valid && save()" #f="ngForm" validate>
    <p-messages [(value)]="messages"></p-messages>
	<div class="ui-grid ui-grid-responsive ui-fluid" *ngIf="employee">
		<p-accordion> <p-accordionTab header="{{ 'COMMON.DEMOGRAPHIC_INFO' | translate }}"
			selected="true">
		
		<div class="ui-grid-row">
			<div class="ui-grid-col-5 ui-sm-12">
                <div class="form-group">
                    <label for="userName">{{ 'COMMON.USER_NAME' | translate }}:<font color="red">*</font>
                    </label> <input type="text" pInputText class="form-control" id="userName"
                        [(ngModel)]="employee.user.userName" name="userName" #userName="ngModel" required>
                    <p-message *ngIf="f.submitted && userName.invalid" severity="error" text="Field is required"></p-message>
                </div>
            </div>
            <div class="ui-grid-col-2 ui-sm-12">&nbsp;&nbsp;&nbsp;&nbsp; <font color="red"><label *ngIf="isCancel()">{{ 'COMMON.CANCELLED' | translate }} by {{employee.modifierName}}</label></font></div>
            <!--
			<div class="ui-grid-col-5 ui-sm-12">
                <div class="form-group">
                    <label for="password">{{ 'COMMON.PASSWORD' | translate }}:<font color="red">*</font></label> 
                    <input type="password" pPassword class="form-control" id="password1" 
                        [(ngModel)]="employee.user.password" name="password1" #password1="ngModel" required>
                    <p-message *ngIf="f.submitted && password1.invalid" severity="error" text="Field is required"></p-message>
                </div>
            </div>
        -->
		</div>
		<div class="ui-grid-row">
			<div class="ui-grid-col-5 ui-sm-12">
                <div class="form-group">
                    <label for="lastName">{{ 'COMMON.LAST_NAME' | translate }}<font color="red">*</font>:
                    </label> <input type="text" pInputText class="form-control" id="lastName"
                            [(ngModel)]="employee.user.lastName" name="lastName" #lastName="ngModel" required>
                    <p-message *ngIf="f.submitted && lastName.invalid" severity="error" text="Field is required"></p-message>
                </div>
            </div>
            <div class="ui-grid-col-2 ui-sm-12"></div>
            <div class="ui-grid-col-5 ui-sm-12">
                <div class="form-group">
                    <label for="firstName">{{ 'COMMON.FIRST_NAME' | translate }}</label> 
                    <input type="text" pInputText class="form-control" id="firstName"
                            [(ngModel)]="employee.user.firstName" name="firstName" #firstName="ngModel" required>
                    <p-message *ngIf="f.submitted && firstName.invalid" severity="error" text="Field is required"></p-message>
                </div>
            </div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-5 ui-sm-12">
                <div class="form-group">
                    <label for="middleName">{{ 'COMMON.MIDDLE_NAME' | translate }}</label> 
                    <input type="text" pInputText class="form-control" id="middleName"
                        [(ngModel)]="employee.user.middleName" name="middleName" #middleName="ngModel">
                </div>
            </div>
            <div class="ui-grid-col-2 ui-sm-12"></div>
            <div class="ui-grid-col-5 ui-sm-12">
                <div class="form-group">
                    <label i18n="@@email" for="email">{{ 'COMMON.EMAIL' | translate }}<font color="red">*</font></label> 
                    <input type="text" pInputText class="form-control" id="email"
                        [(ngModel)]="employee.user.email" name="email" #email="ngModel" email>
                    <p-message *ngIf="f.submitted && email.invalid" severity="error" text="Invalid email"></p-message>
                </div>
            </div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-5 ui-sm-12">
                <div class="form-group">
                    <div class="ui-grid-row">
                        <label for="sex">{{ 'COMMON.GENDER' | translate }}</label>
                    </div>
                    <div class="ui-grid-row">
                        <p-radioButton name="sex" value="M" label="Male"
                            [(ngModel)]="employee.user.sex" #gender="ngModel" required></p-radioButton>
                        <p-radioButton name="sex" value="F" label="Female"
                            [(ngModel)]="employee.user.sex"#gender="ngModel" required></p-radioButton>
                        <p-message *ngIf="f.submitted && gender.invalid" severity="error" text="Field is required"></p-message>
                    </div>
                </div>
            </div>
            <div class="ui-grid-col-2 ui-sm-12"></div>
            <div class="ui-grid-col-5 ui-sm-12">
                <div class="form-group">
                    <label for="phone">{{ 'COMMON.PHONE' | translate }}<font color="red">*</font>
                    </label> <input type="text" pInputText class="form-control" id="phone"
                        [(ngModel)]="employee.user.homePhone" name="phone" #phone="ngModel" required>
                    <p-message *ngIf="f.submitted && phone.invalid" severity="error" text="Invalid Phone"></p-message>
                
                </div>
            </div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-5 ui-sm-12">
                <div class="form-group">
                    <label for="address">{{ 'COMMON.ADDRESS' | translate }}</label> <input
                        type="text" pInputText class="form-control" id="address"
                        [(ngModel)]="employee.user.address" name="address" #address="ngModel">
                </div>
            </div>
            <div class="ui-grid-col-2 ui-sm-12"></div>
            <div class="ui-grid-col-5 ui-sm-12">
                <div class="form-group">
                    <label for="country">{{ 'COMMON.COUNTRY' | translate }}</label>
                    <input type="text" pInputText class="form-control" id="country"
                        [(ngModel)]="employee.user.country" name="country" #country="ngModel">
                </div>
            </div>
        </div>
        <div class="ui-grid-row">
            <div class="ui-grid-col-5 ui-sm-12">
                <div class="form-group">
                    <label for="zipCode">{{ 'COMMON.ZIP_CODE' | translate }}</label> 
                    <input type="text" pInputText class="form-control" id="zipCode"
                        [(ngModel)]="employee.user.zipCode" name="zipCode" #zipCode="ngModel">
                </div>
            </div>
            <div class="ui-grid-col-2 ui-sm-12"></div>
            <div class="ui-grid-col-5 ui-sm-12">
				<div class="ui-grid-col-2">
					<label i18n="@@picture" for="picture">{{ 'COMMON.PICTURE' | translate }} </label>
                    <img class="thumb img-fluid" src="assets/images/User/{{employee.user.picture}}" alt="" 
                        *ngIf="employee.user.picture !== ''"/>
                    <button pButton icon="fa fa-delete" (click)="employee.user.picture = ''" 
                        label="Remove" *ngIf="employee.user.picture !== ''"></button>
                    <img class="thumb img-fluid" src="{{pictureUrl}}" alt="" *ngIf="pictureUrl !== ''"/>
                    <button pButton icon="fa fa-delete" (click)="clearPicture()" label="Remove" *ngIf="pictureUrl !== ''"></button>
                </div>
                <br/>
				<div class="ui-grid-col-12 ui-sm-12">
					<div class="form-group">
                        <input type="file" (change)="readUrl($event)" [attr.multiple]="null" name="picture" 
                            #picture *ngIf="employee.user.picture === ''">
					</div>
				</div>
            </div>
		</div>	
			
		
        </p-accordionTab> 
            <p-accordionTab header="{{ 'COMMON.PROFESSIONAL_INFO' | translate }}">
                <div class="ui-grid-row">
                    <div class="ui-grid-col-5 ui-sm-12">
                        <div class="form-group">
                            <label for="designation">{{ 'COMMON.DESIGNATION' | translate }}</label>
                            <input type="text" pInputText class="form-control"
                                id="designation" [(ngModel)]="employee.designation" name="designation" #designation="ngModel">
                        </div>
                    </div>
                    <div class="ui-grid-col-2 ui-sm-12"></div>
                    <div class="ui-grid-col-5 ui-sm-12">
                        <div class="form-group">
                            <label for="userGroup">{{ 'COMMON.ROLE' | translate }}</label>
                            <p-autoComplete [(ngModel)]="employee.user.userGroup" [disabled]="!tokenStorage.isAdmin()"
                                (onDropdownClick)="userGroupDropdown.handleDropdownClick($event)"
                                [suggestions]="userGroupDropdown.filteredUserGroups"
                                [dropdown]="true" id="userGroup"
                                (completeMethod)="userGroupDropdown.filter($event)"
                                name="userGroup" field="name" [size]="30" [minLength]="1"></p-autoComplete>
                        </div>
                    </div>

                </div>

                <div class="ui-grid-row">
                    <div class="ui-grid-col-5 ui-sm-12">
                        <div class="form-group">
                            <label for="resume">{{ 'COMMON.RESUME' | translate }}</label>
                            <p-editor id="resume" name="resume" [(ngModel)]="employee.resume" #resume="ngModel" [style]="{'height':'320px'}"></p-editor>
                            <!-- <textarea pInputTextarea id="resume" [(ngModel)]="employee.resume" name="resume" 
                            #resume="ngModel" [rows]="10"> </textarea> -->
                        </div>
                    </div>
                    <div class="ui-grid-col-2 ui-sm-12"></div>
                    <div class="ui-grid-col-5 ui-sm-12">
                        <p-radioButton name="managing" value="0" label="Manager" [(ngModel)]="employee.managing"
                            #managing="ngModel" required></p-radioButton>
                        <p-radioButton name="managing" value="1" label="Non Manager" [(ngModel)]="employee.managing"
                            #managing="ngModel" required ></p-radioButton>
                        <p-message *ngIf="f.submitted && managing.invalid" severity="error" text="Field is required"></p-message>
                    </div>
                </div>

            </p-accordionTab> 
        </p-accordion>
		<br />

	</div>
	<br />

	<div class="form-group">
		<div class="ui-dialog-buttonpane ui-widget-content ui-helper-clearfix">
			<button type="button" pButton icon="fa fa-refresh" (click)="clear()"label="{{ 'COMMON.ADD' | translate }}"></button> &nbsp;&nbsp;
			<button pButton icon="fa fa-save" label="{{ 'COMMON.SAVE' | translate }}" [disabled]="isCancel()"></button>&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;
			<button type="button" pButton icon="fa fa-delete" (click)="cancel()" label="{{ 'COMMON.CANCEL' | translate }}" [disabled]="isCancel()"></button>&nbsp;&nbsp;
            
		</div>
	</div>
</form>